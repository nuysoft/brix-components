doctype html
html
    head
        include ../../doc/head.pug
        style.
            body [bx-name="components/colorpicker"] {
                vertical-align: top;
                width: 200px;
                margin: 5px 10px 5px 0;
            }
            table.table { min-height: 500px; }
            table.table tbody tr td { padding: 10px; }
            table.table td:nth-child(1) { text-align: left; }
            table.table td:nth-child(2) { text-align: center; }
            table.table td:nth-child(3) { text-align: right; }
    body
        //- 示例
        div
            div.btn.btn-default(bx-name='components/colorpicker') ColorPicker
            div.predefined
            input(bx-name='components/colorpicker' placeholder='ColorPicker')
            div.btn.btn-default(bx-name='components/colorpicker' data-color='#ff6600') 设置初始值
            div.btn.btn-default(bx-name='components/colorpicker' data-min='true') 精简模式
            div.predefined
        table.table.table-bordered
            tbody
                tr
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='right' data-align='top') 位于右侧 + 顶部对齐
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='bottom' data-align='left') 位于下方 + 左侧对齐
                        div.predefined
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='bottom' data-align='center') 位于下方 + 水平居中对齐
                        div.predefined
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='left' data-align='top') 位于左侧 + 顶部对齐
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='bottom' data-align='right') 位于下方 + 右侧对齐
                        div.predefined
                tr
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='right' data-align='middle') 位于右侧 + 垂直居中对齐
                        div.predefined
                    td 
                        span.fontsize-16 ColorPicker
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='left' data-align='middle')  位于左侧 + 垂直居中对齐 
                        div.predefined
                tr
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='top' data-align='left') 位于上方 + 左侧对齐
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='right' data-align='bottom') 位于右侧 + 底部对齐
                        div.predefined
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='top' data-align='center') 位于上方 + 水平居中对齐
                        div.predefined
                    td
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='top' data-align='right') 位于上方 + 右侧对齐
                        div.btn.btn-default(bx-name='components/colorpicker' data-placement='left' data-align='bottom') 位于左侧 + 底部对齐
                        div.predefined
        pre.predefined.js.
            var Loader = require('brix/loader')
            Loader.boot(function() {
                var instances = Loader.query('components/colorpicker')
                instances.on('change.colorpicker', function(event, extra) {
                    $(event.component.element).css({
                        color: event.component.$pickerDragNode.css('color'),
                        'background-color': extra.hex
                    })
                    // event.preventDefault()
                    console.log(event.type, event.namespace, extra)
                })
            })
        //- 启动
        include ../../doc/boot.pug
        script.
            require(['brix/loader', 'jquery'], function(Loader, $) {
                Loader.boot(function() {
                    var instances = Loader.query('components/colorpicker')
                    instances.on('change.colorpicker', function(event, extra) {
                        $(event.component.element).css({
                            // color: parseInt(extra.hex.substring(1), 16) < parseInt('FFFFFF', 16) / 2 ? '#FFF' : '#000', // 白色 or 黑色
                            // color: event.component.constructor.invert(extra.hex), // 补色
                            color: event.component.$pickerDragNode.css('color'),
                            'background-color': extra.hex
                        })
                        // event.preventDefault()
                        console.log(event.type, event.namespace, extra)
                    })
                })
            })
