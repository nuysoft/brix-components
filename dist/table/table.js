define(["jquery","underscore","components/base","./linkage.js","./column-rwd.js","./column-priority.js"],function(t,i,n,o,e,r){function c(){}var s=".table",l={UUID:0,COLUMN:{ID:"column-id",FIELD:"column-field",NAME:"column-name",RWD:{RANGE:"column-rwd-range",LIMIT:"column-rwd-limit",FADE:"column-rwd-fade",CURSOR:"column-rwd-cursor"},PRIORITY:{FIELDS:"column-priority-fields",TRIGGER:"column-priority-trigger",STATE:"column-priority-state",INDEX:"column-priority-index",PLACEMENT:"column-priority-placement",ALIGN:"column-priority-align"}}};return i.extend(c.prototype,n.prototype,{options:{},init:function(){this.$element=t(this.element)},render:function(){var n=this;o(this.element,function(t,i,o){n.trigger("toggle"+s,[i,o]),n.contextual()});var c,u;if(this.options[l.COLUMN.RWD.RANGE]){c=e(this,this.options,l,function(t,i){n.trigger("change"+e.NAMESPACE,[i])});var a="resize.table_"+this.clientId;t(window).on(a,i.throttle(function(){c.beautify()},50))}this.options[l.COLUMN.PRIORITY.TRIGGER]&&(u=r(this,this.options,l,function(t,i){n.trigger("change"+r.NAMESPACE,[i]),c.flush()}),this.options[l.COLUMN.PRIORITY.FIELDS]&&u.fields(this.options[l.COLUMN.PRIORITY.FIELDS])),this.columnRWDHandler=c,this.columnPriorityHandler=u},contextual:function(){i.each(this.$element.find("input:checkbox"),function(i){var n=t(i).prop("checked");t(i).closest("tr")[n?"addClass":"removeClass"]("active")})},destroy:function(){var i="resize.table_"+this.clientId;t(window).off(i)}}),c});