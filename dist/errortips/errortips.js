define("components/errortips",["jquery","underscore","handlebars","components/base"],function(t,i,e,n){return function(t){function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){var n,o;n=[e(1),e(2),e(3),e(4),e(5)],o=function(t,i,e,n,o){function s(){arguments.length&&(this.element=t(arguments[0]),this.options=i.extend(this.options,arguments[1]))}var r={EVENTS:{".errortips-icon":{click:function(t,i){i._tips.fadeOut({duration:250,easing:"swing",complete:function(){i._tips.remove(),i.trigger("complete.errortips")}})}}}};return i.extend(s.prototype,n.prototype,{options:{width:180,msg:"操作<span>不正确</span>，请重新操作",duration:null,shake:!0},render:function(){},destroy:function(){this._tips&&this._tips.remove()},showTips:function(i){var e=t(this.element);e.hasClass("btn-error")||(t(".btn-error-tips[data-btn-error]").length&&(clearTimeout(this.itv),t(".btn-error-tips[data-btn-error]").remove()),this.options.shake&&this._shake(),this._showTips(i),this._bindUI())},_bindUI:function(){var i=this._tips,e=this;t.each(r,function(n,o){switch(n){case"EVENTS":t.each(o,function(n,o){t.each(o,function(t,o){i.delegate(n,t,function(t){o(t,e)})})});break;case"DOCEVENTS":t.each(o,function(i,n){t.each(n,function(n,o){t(document).delegate(i,n,function(t){o(t,e)})})});break;case"WINEVENTS":t.each(o,function(i,n){t(window).on(i,function(t){n(t,e)})})}})},_showTips:function(i){var n=this,s=t(this.element),r=this.options.width,a=this.options.duration,p=30;i=i||this.options.msg,n.fadeOut&&n.fadeOut.stop(),a&&(this.itv=setTimeout(function(){n.fadeOut=n._tips.fadeOut({duration:250,easing:"swing",complete:function(){n._tips.remove(),n.trigger("complete.errortips",n)}})},a));var c=s.offset(),u=o,h=s.outerWidth()/2-10,d=e.compile(u)({width:r,msg:i,left:h+p,duration:a});this._tips=t(d),t("body").append(this._tips);var f=c.left-p,l=c.top-this._tips.outerHeight()-20,m=0,w=t(window).width(),v=f+this._tips.outerWidth()-w;v>0&&(f-=v,this._tips.find(".arrow").css({left:h+p+v})),f<0&&(this._tips.find(".arrow").css({left:h+p+f}),f=0),l<0?(this._tips.find(".arrow").addClass("arrow-up"),l=c.top+s.outerHeight()+20,m=l-25):m=l+25,this._tips.css({left:f,top:m,opacity:0}),this._tips.animate({left:f,top:l,opacity:1},250,"swing")},_shake:function(){var i=t(this.element),e=i.width(),n=i.html();i.addClass("btn-error"),i.width(e),i.html('<i class="errortips-icon">&#xe600;</i>'),setTimeout(function(){i.html(n),i.removeClass("btn-error")},1e3)}}),s}.apply(i,n),!(void 0!==o&&(t.exports=o))},function(i,e){i.exports=t},function(t,e){t.exports=i},function(t,i){t.exports=e},function(t,i){t.exports=n},function(t,i,e){var n;n=function(){return' <div class="btn-error-tips" data-btn-error="true" style="width: {{width}}px">\n  {{{msg}}}\n  <i class="arrow" style="left: {{left}}px;"></i>\n  {{^duration}}\n  <i class="errortips-icon">&#xe601;</i>\n  {{/duration}}\n</div>'}.call(i,e,i,t),!(void 0!==n&&(t.exports=n))}])});